<html>
<head>
	<link rel="stylesheet" type="text/css" href="bell.css" />
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-137605282-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){
		  dataLayer.push(arguments);
	  }
	  gtag('js', new Date());
	  gtag('config', 'UA-137605282-1');
	</script>
	<script type="text/javascript">
		(function(p,u,s,h){
		p._pcq=p._pcq||[];
		p._pcq.push(['_currentTime',Date.now()]);
		s=u.createElement('script');
		s.type='text/javascript';
		s.async=true;
		s.src='https://cdn.pushcrew.com/js/03283f9b1ebd70103715ad9ff738d47f.js';
		h=u.getElementsByTagName('script')[0];
		h.parentNode.insertBefore(s,h);
		})(window,document);
	</script>
	<script>
		 var name = "Shivam";
		 var email_address = 'shivam.aggarwal@wingify.com';
		 console.log(email_address);
	</script>
	  
	  <!-- Email address custom attribute -->
	<script>
		window._pcq = window._pcq || [];
		window._pcq.push(['tag', 'email', email_address]);
	</script>
</head>
<body>
	<h1> My sample website. </h1>
	<p> This is the home page. </p>
	<a href="second.html">Click here to move forward.</a>
	<button class="bell-icon-container bell-icon-notification-left" id ='bellIcon' onclick="bellIconClicked()">
	<svg class="bell-icon-svg" xmlns="http://www.w3.org/2000/svg" width="22" height="28" viewBox="0 0 22 28" fill="currentColor">
	<path d="M11.0006 27.8252C9.20627 27.8252 7.75077 26.371 7.75077 24.5753H14.2499C14.2503 26.371 12.7949 27.8252 11.0006 27.8252ZM21.9823 21.3167C21.9823 22.5183 21.0076 22.5973 19.8068 22.5973H2.19411C0.992777 22.5973 0.0197754 22.5182 0.0197754 21.3165V21.1095C0.0197754 20.2453 0.527275 19.5053 1.25644 19.1543L1.94678 13.1955C1.94678 8.83315 5.03177 5.19215 9.13877 4.33315V2.01982C9.13877 0.991488 9.97261 0.157654 11.0014 0.157654C12.0298 0.157654 12.8636 0.991488 12.8636 2.01982V4.33332C16.9706 5.19215 20.0556 8.83282 20.0556 13.1957L20.7459 19.1553C21.4751 19.5068 21.9823 20.2455 21.9823 21.1097V21.3167Z"/>
	</svg>
	<div class="bell-icon-message">Subscribe to Notifications</div>
	</div>
	<script>
		var checkStatus = localStorage.getItem('wingify_push_subscription_status');
		_pcq.push(['subscriptionSuccessCallback',callbackFunctionOnSuccessfulSubscription]);
		console.log(checkStatus);
		function callbackFunctionOnSuccessfulSubscription(subscriberId, values) {
			document.getElementById("bellIcon").style.display = "none";
		}
		_pcq.push(['subscriptionFailureCallback',callbackFunctionOnFailedSubscription]);
		function callbackFunctionOnFailedSubscription(values) {
				document.getElementById("bellIcon").style.display = "none";
		}
		if (checkStatus== "subscribed") {
			document.getElementById("bellIcon").style.display = "none";
		}	
		//if (Notification.permission== "denied"){
		//	window.open("https://help.vwo.com/hc/en-us/articles/360007700494-How-to-unblock-notifications-from-a-website-that-you-once-blocked-", '_blank', 'width=700,height=500,left=200,top=100');			
		//}
		function bellIconClicked() {
			if (checkStatus== "subscribed") {
				document.getElementById("bellIcon").style.display = "none";
			}	
			if (Notification.permission== "denied"){
				window.open("https://help.vwo.com/hc/en-us/articles/360007700494-How-to-unblock-notifications-from-a-website-that-you-once-blocked-", '_blank', 'width=700,height=500,left=200,top=100');			
			}
			_pcq.push(['triggerOptIn']);
			if (Notification.permission== "default"){
				_pcq.push(['triggerOptIn']);	
			}
		}
	</script>
</body>
</html>
